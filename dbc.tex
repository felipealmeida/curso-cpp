%% -*- TeX-engine: xetex; mode: LaTeX; eval: (TeX-PDF-mode); coding: utf-8-unix; TeX-master: t; ispell-local-dictionary: "pt_BR"; -*-

\documentclass[14pt]{beamer}

\usepackage[brazil]{babel}
\usepackage[final]{listings}
\usepackage{fontspec}
\usepackage{hyperref}
\usepackage{color}
\usepackage{biblatex}
\usepackage{tikz}

\title{Curso de C++}
\author{Felipe Magno de Almeida}
\date{\today}

\lstset{basicstyle=\small,language=C++,stringstyle=\ttfamily,showstringspaces=false,keywordstyle=\color{blue}}

\begin{document}

\frame
{
  \titlepage
}

\frame
{
  \tableofcontents
}

\section{Programação por Contrato}

\newsavebox{\listingboxa}
\begin{lrbox}{\listingboxa}
\lstinputlisting[mathescape=true,firstline=5,lastline=8]{cpp/divide.cpp}
\end{lrbox}

\frame
{
  \frametitle{Programação por Contrato}

  \usebox{\listingboxa}
}

\newsavebox{\listingboxb}
\begin{lrbox}{\listingboxb}
\lstinputlisting[mathescape=true,firstline=3,lastline=3]{cpp/divide.cpp}
\end{lrbox}

\frame
{
  \frametitle{Programação por Contrato}

  \usebox{\listingboxb}
}

\newsavebox{\listingboxc}
\begin{lrbox}{\listingboxc}
\lstinputlisting[mathescape=true,firstline=2,lastline=3]{cpp/divide.cpp}
\end{lrbox}

\frame
{
  \frametitle{Programação por Contrato}

  \usebox{\listingboxc}
}

\newsavebox{\listingboxd}
\begin{lrbox}{\listingboxd}
\lstinputlisting[mathescape=true,firstline=4,lastline=11]{cpp/divide_exception.cpp}
\end{lrbox}

\frame
{
  \frametitle{Programação por Contrato}

  \usebox{\listingboxd}
}

\newsavebox{\listingboxe}
\begin{lrbox}{\listingboxe}
\lstinputlisting[mathescape=true,firstline=4,lastline=9]{cpp/divide_assert.cpp}
\end{lrbox}

\frame
{
  \frametitle{Programação por Contrato}

  \usebox{\listingboxe}
}

\frame
{
  \frametitle{Programação por Contrato}

  \usebox{\listingboxd}

  \begin{itemize}
  \item Se $lhs = 0$ então lança exceção runtime\_error
  \end{itemize}
}

\frame
{
  \frametitle{Programação por Contrato}

  \usebox{\listingboxe}

  \begin{itemize}
  \item Se $lhs = 0$ então \texttt{undefined behavior}
  \end{itemize}
}

\frame
{
  \frametitle{Undefined Behavior}

  \begin{itemize}
  \item \alert<1>{Qualquer} comportamento é válido
  \item<2-> Pode ser \texttt{implementation defined}
    \begin{itemize}
    \item<3-> Pode ter um comportamento
    \end{itemize}
  \end{itemize}
}

\end{document}

