%% -*- TeX-engine: xetex; mode: LaTeX; eval: (TeX-PDF-mode); coding: utf-8-unix; TeX-master: t; ispell-local-dictionary: "pt_BR"; -*-

\documentclass[14pt]{beamer}

\usepackage[brazil]{babel}
\usepackage[final]{listings}
\usepackage{fontspec}
\usepackage{hyperref}
\usepackage{color}
\usepackage{biblatex}
\usepackage{tikz}

\title{Curso de C++}
\author{Felipe Magno de Almeida}
\date{\today}

\lstset{basicstyle=\small,language=C++,stringstyle=\ttfamily,showstringspaces=false,keywordstyle=\color{blue}}

\begin{document}

\frame
{
  \titlepage
}

\frame
{
  \tableofcontents
}

\section{Programação por Contrato}

\newsavebox{\listingboxa}
\begin{lrbox}{\listingboxa}
\lstinputlisting[mathescape=true,firstline=6,lastline=9]{cpp/divide.cpp}
\end{lrbox}

\frame
{
  \frametitle{Programação por Contrato}

  \usebox{\listingboxa}
}

\newsavebox{\listingboxb}
\begin{lrbox}{\listingboxb}
\lstinputlisting[mathescape=true,firstline=4,lastline=4]{cpp/divide.cpp}
\end{lrbox}

\frame
{
  \frametitle{Programação por Contrato}

  \usebox{\listingboxb}
}

\newsavebox{\listingboxc}
\begin{lrbox}{\listingboxc}
\lstinputlisting[mathescape=true,firstline=2,lastline=4]{cpp/divide.cpp}
\end{lrbox}

\frame
{
  \frametitle{Programação por Contrato}

  \usebox{\listingboxc}
}

\newsavebox{\listingboxd}
\begin{lrbox}{\listingboxd}
\lstinputlisting[mathescape=true,firstline=4,lastline=12]{cpp/divide_exception.cpp}
\end{lrbox}

\frame
{
  \frametitle{Programação por Contrato}

  \usebox{\listingboxd}
}

\newsavebox{\listingboxe}
\begin{lrbox}{\listingboxe}
\lstinputlisting[mathescape=true,firstline=4,lastline=10]{cpp/divide_assert.cpp}
\end{lrbox}

\frame
{
  \frametitle{Programação por Contrato}

  \usebox{\listingboxe}
}

\frame
{
  \frametitle{Programação por Contrato}

  \usebox{\listingboxd}

  \begin{itemize}
  \item Se $lhs = 0$ então lança exceção runtime\_error
  \end{itemize}
}

\frame
{
  \frametitle{Programação por Contrato}

  \usebox{\listingboxe}

  \begin{itemize}
  \item Se $lhs = 0$ então \texttt{undefined behavior}
  \end{itemize}
}

\frame
{
  \frametitle{Undefined Behavior}

  \begin{itemize}
  \item \alert<1>{Qualquer} comportamento é válido
  \item<2-> Pode ser \texttt{implementation defined}
    \begin{itemize}
    \item<3-> Pode ter um comportamento reproduzível
    \end{itemize}
  \item<4-> Pode ter um comportamento aleatório
  \item<5-> Geralmente gera falhas de segurança
  \end{itemize}
}

\newsavebox{\listingboxf}
\begin{lrbox}{\listingboxf}
\lstinputlisting[mathescape=true,firstline=9,lastline=10]{cpp/divide_user.cpp}
\end{lrbox}

\frame
{
  \frametitle{Usando contrato}

  \usebox{\listingboxf}
}

\newsavebox{\listingboxg}
\begin{lrbox}{\listingboxg}
\lstinputlisting[mathescape=true,firstline=7,lastline=10]{cpp/divide_user.cpp}
\end{lrbox}

\frame
{
  \frametitle{Usando contrato}

  \usebox{\listingboxg}
}

\newsavebox{\listingboxh}
\begin{lrbox}{\listingboxh}
\lstinputlisting[mathescape=true,firstline=15,lastline=18]{cpp/divide_user.cpp}
\end{lrbox}

\frame
{
  \frametitle{Usando contrato}

  \usebox{\listingboxh}
}

\newsavebox{\listingboxi}
\begin{lrbox}{\listingboxi}
\lstinputlisting[mathescape=true,firstline=12,lastline=18]{cpp/divide_user.cpp}
\end{lrbox}

\frame
{
  \frametitle{Usando contrato}

  \usebox{\listingboxi}
}

\newsavebox{\listingboxj}
\begin{lrbox}{\listingboxj}
\lstinputlisting[mathescape=true,firstline=12,lastline=19]{cpp/divide_user.cpp}
\end{lrbox}

\frame
{
  \frametitle{Usando contrato}

  \usebox{\listingboxj}
}

\newsavebox{\listingboxk}
\begin{lrbox}{\listingboxk}
\lstinputlisting[mathescape=true,firstline=8,lastline=8]{cpp/divide_user.cpp}
\end{lrbox}

\newsavebox{\listingboxl}
\begin{lrbox}{\listingboxl}
\lstinputlisting[mathescape=true,firstline=21,lastline=21]{cpp/divide_user.cpp}
\end{lrbox}

\frame
{
  \frametitle{Usando contrato}

  \usebox{\listingboxk}
  \usebox{\listingboxl}
}

\end{document}

